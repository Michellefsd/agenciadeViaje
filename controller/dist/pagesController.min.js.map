{"version":3,"sources":["pagesController.js"],"names":["_Viaje","require","_Opinions","getHome","req","res","viajes","opiniones","regeneratorRuntime","async","_context","prev","next","awrap","Viaje","findAll","limit","sent","Opinions","render","pagina","clase","t0","promiseDB","stop","getUs","_context2","error","console","log","detailTravelPage","slug","resultado","_context4","params","findOne","where"],"mappings":"yKAAA,IAAAA,OAAAC,QAAA,qBACAC,UAAAD,QAAA,wBAEME,QAAU,SAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,MAEM,GAFNF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAFhBC,OAAAA,MAAAC,QAAA,CAAAC,MAAA,KAEgB,KAAA,EAAA,OAFhBV,EAEgBI,EAAAO,KAAAP,EAAAE,KAAA,EAAAJ,mBAAAK,MAOgBK,UAAAA,SAASH,QAAQ,CAACC,MAAO,KAPzC,KAAA,EAOFT,EAPEG,EAAAO,KAAVd,EAAOgB,OAAG,SAAVhB,CAAUiB,OAAA,SAAAC,MAAA,OAAAf,OAAAA,EAAAC,UAAAA,IAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAY,GAAAZ,EAAA,MAAA,GAENa,QAAAA,IAAAA,EAAAA,IAFM,KAAA,GAAA,IAAA,MAAA,OAAAb,EAAAc,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,+BAAA,IAAAC,MAAA,SAAArB,EAAAC,GAM4BW,EAAAA,OAAAA,WAAO,CAARI,OAN3B,kCAMFd,IAAAA,YANE,SAAAF,EAAAC,GAAA,IAAAE,EAAA,OAAAC,mBAAAC,MAAA,SAAAiB,GAAA,OAAA,OAAAA,EAAAf,KAAAe,EAAAd,MAAA,KAAA,EAAA,OAAAc,EAAAf,KAAA,EAAAe,EAAAd,KAAA,EAAAJ,mBAAAK,MAAAK,UAAAA,SAAAH,WAAA,KAAA,EAAAR,EAAAmB,EAAAT,KAOkCD,EAAAA,OAAO,YAAA,CAPzCI,OAAA,UA4BJb,UAAAA,IA5BImB,EAAAd,KAAA,GAAA,MAAA,KAAA,EAAAc,EAAAf,KAAA,EAAAe,EAAAJ,GAAAI,EAAA,MAAA,GAQRrB,QAAIc,IAAJQ,OARQ,KAAA,GAAA,IAAA,MAAA,OAAAD,EAAAF,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,sCAWJlB,IAAAA,WAAAA,SAHiBF,EAAAC,GAGjBC,IAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,MAHJQ,OAAAA,MAAAC,WAGIT,KAAAA,EAHiBA,EAGjBA,EAAAA,KAXIsB,QAAAC,IAAAvB,GAuCZD,EAAIc,OAAO,SAAU,CAvCTC,OAAA,kBAAAd,OAAAA,IAWJA,KAAAA,EAAAA,IAAAA,MAAAA,OAAAA,EAAAA,yCAXI,IAAAwB,iBAAA,SAAA1B,EAAAC,GAAA,IAAA0B,EAAAC,EAAA,OAAAxB,mBAAAC,MAAA,SAAAwB,GAAA,OAAA,OAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,KAAA,EAAA,OAAAmB,EAAA3B,EAAA8B,OAAAH,KAAAE,EAAAtB,KAAA,EAAAsB,EAAArB,KAAA,EAAAJ,mBAAAK,MAAAC,OAAAA,MAAAqB,QAAA,CAAAC,MAAA,CAAAL,KAAAA,MAAA,KAAA,EAAAC,EAAAC,EAAAhB,KAAAZ,EAAAc,OAAA,QAAA,CAAhBC,OAAA,wBAoDYY,UAAAA,IApDIC,EAAArB,KAAA,GAAA,MAAA,KAAA,EAAAqB,EAAAtB,KAAA,EAAAsB,EAAAX,GAAAW,EAAA,MAAA,GAkBVR,QAAQI,IAARJ,EAAAA,IAlBU,KAAA,GAAA,IAAA,MAAA,OAAAQ,EAAAT,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"pagesController.min.js","sourcesContent":["import { Viaje } from '../model/Viaje.js';\r\nimport { Opinions } from '../model/Opinions.js';\r\n\r\nconst getHome = async (req, res) => {\r\n    // consultar 3 viajes del modelo >Viaje\r\n    const promiseDB = [];\r\n\r\n    \r\n    try {\r\n        const viajes = await Viaje.findAll({limit: 3})\r\n        const opiniones = await Opinions.findAll({limit: 3})\r\n        res.render(\"inicio\", {\r\n            pagina: 'Inicio',\r\n            clase: 'home',\r\n            viajes,\r\n            opiniones\r\n        })\r\n    } catch(error) {\r\n        console.log(error)\r\n    }\r\n}\r\nconst getUs = (req, res) => {\r\n    res.render(\"nosotros\", {\r\n        pagina: 'Nosotros'\r\n    });\r\n}\r\nconst getOpinions = async (req, res) => {\r\n    try {\r\n        const opiniones = await Opinions.findAll();\r\n        res.render(\"opiniones\", {\r\n            pagina: 'Opinion',\r\n            opiniones\r\n        });\r\n    } catch(err) {\r\n        console.log(error)\r\n    }\r\n}\r\nconst getTravels =  async (req, res) => {  \r\n// Consultar BD\r\n    const viajes = await Viaje.findAll();\r\n    console.log(viajes)\r\n\r\n    res.render(\"viajes\", {\r\n        pagina: 'Próximos Viajes',\r\n        viajes\r\n    });\r\n}\r\n\r\n// Muestra un viaje x su slug\r\nconst detailTravelPage = async (req, res) => {\r\n    const { slug } = req.params;\r\n    try {\r\n        const resultado = await Viaje.findOne({ where : { slug }});\r\n        res.render('viaje', {\r\n            pagina: 'Información del Viaje',\r\n            resultado\r\n        })\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n    }\r\n\r\nexport { \r\n    getHome, \r\n    getUs, \r\n    getOpinions, \r\n    getTravels,\r\n    detailTravelPage,\r\n};"]}