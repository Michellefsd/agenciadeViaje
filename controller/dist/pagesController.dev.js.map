{"version":3,"sources":["pagesController.js"],"names":["getHome","req","res","promiseDB","Viaje","findAll","limit","viajes","Opinions","opiniones","render","pagina","clase","console","log","getUs","getOpinions","error","getTravels","detailTravelPage","slug","params","findOne","where","resultado"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ;AACMC,UAAAA,SAFM,GAEM,EAFN;AAAA;AAAA;AAAA,0CAMaC,aAAMC,OAAN,CAAc;AAACC,YAAAA,KAAK,EAAE;AAAR,WAAd,CANb;;AAAA;AAMFC,UAAAA,MANE;AAAA;AAAA,0CAOgBC,mBAASH,OAAT,CAAiB;AAACC,YAAAA,KAAK,EAAE;AAAR,WAAjB,CAPhB;;AAAA;AAOFG,UAAAA,SAPE;AAQRP,UAAAA,GAAG,CAACQ,MAAJ,CAAW,QAAX,EAAqB;AACjBC,YAAAA,MAAM,EAAE,QADS;AAEjBC,YAAAA,KAAK,EAAE,MAFU;AAGjBL,YAAAA,MAAM,EAANA,MAHiB;AAIjBE,YAAAA,SAAS,EAATA;AAJiB,WAArB;AARQ;AAAA;;AAAA;AAAA;AAAA;AAeRI,UAAAA,OAAO,CAACC,GAAR;;AAfQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB;;;;AAkBA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACd,GAAD,EAAMC,GAAN,EAAc;AACxBA,EAAAA,GAAG,CAACQ,MAAJ,CAAW,UAAX,EAAuB;AACnBC,IAAAA,MAAM,EAAE;AADW,GAAvB;AAGH,CAJD;;;;AAKA,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAAOf,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEYM,mBAASH,OAAT,EAFZ;;AAAA;AAENI,UAAAA,SAFM;AAGZP,UAAAA,GAAG,CAACQ,MAAJ,CAAW,WAAX,EAAwB;AACpBC,YAAAA,MAAM,EAAE,SADY;AAEpBF,YAAAA,SAAS,EAATA;AAFoB,WAAxB;AAHY;AAAA;;AAAA;AAAA;AAAA;AAQZI,UAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;;AARY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;;;AAWA,IAAMC,UAAU,GAAI,SAAdA,UAAc,CAAOjB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEKE,aAAMC,OAAN,EAFL;;AAAA;AAEVE,UAAAA,MAFU;AAGhBM,UAAAA,OAAO,CAACC,GAAR,CAAYP,MAAZ;AAEAL,UAAAA,GAAG,CAACQ,MAAJ,CAAW,QAAX,EAAqB;AACjBC,YAAAA,MAAM,EAAE,iBADS;AAEjBJ,YAAAA,MAAM,EAANA;AAFiB,WAArB;;AALgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB,C,CAWA;;;;;AACA,IAAMY,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAOlB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACbkB,UAAAA,IADa,GACJnB,GAAG,CAACoB,MADA,CACbD,IADa;AAAA;AAAA;AAAA,0CAGOhB,aAAMkB,OAAN,CAAc;AAAEC,YAAAA,KAAK,EAAG;AAAEH,cAAAA,IAAI,EAAJA;AAAF;AAAV,WAAd,CAHP;;AAAA;AAGXI,UAAAA,SAHW;AAIjBtB,UAAAA,GAAG,CAACQ,MAAJ,CAAW,OAAX,EAAoB;AAChBC,YAAAA,MAAM,EAAE,uBADQ;AAEhBa,YAAAA,SAAS,EAATA;AAFgB,WAApB;AAJiB;AAAA;;AAAA;AAAA;AAAA;AASjBX,UAAAA,OAAO,CAACC,GAAR;;AATiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB","sourcesContent":["import { Viaje } from '../model/Viaje.js';\r\nimport { Opinions } from '../model/Opinions.js';\r\n\r\nconst getHome = async (req, res) => {\r\n    // consultar 3 viajes del modelo >Viaje\r\n    const promiseDB = [];\r\n\r\n    \r\n    try {\r\n        const viajes = await Viaje.findAll({limit: 3})\r\n        const opiniones = await Opinions.findAll({limit: 3})\r\n        res.render(\"inicio\", {\r\n            pagina: 'Inicio',\r\n            clase: 'home',\r\n            viajes,\r\n            opiniones\r\n        })\r\n    } catch(error) {\r\n        console.log(error)\r\n    }\r\n}\r\nconst getUs = (req, res) => {\r\n    res.render(\"nosotros\", {\r\n        pagina: 'Nosotros'\r\n    });\r\n}\r\nconst getOpinions = async (req, res) => {\r\n    try {\r\n        const opiniones = await Opinions.findAll();\r\n        res.render(\"opiniones\", {\r\n            pagina: 'Opinion',\r\n            opiniones\r\n        });\r\n    } catch(err) {\r\n        console.log(error)\r\n    }\r\n}\r\nconst getTravels =  async (req, res) => {  \r\n// Consultar BD\r\n    const viajes = await Viaje.findAll();\r\n    console.log(viajes)\r\n\r\n    res.render(\"viajes\", {\r\n        pagina: 'Próximos Viajes',\r\n        viajes\r\n    });\r\n}\r\n\r\n// Muestra un viaje x su slug\r\nconst detailTravelPage = async (req, res) => {\r\n    const { slug } = req.params;\r\n    try {\r\n        const resultado = await Viaje.findOne({ where : { slug }});\r\n        res.render('viaje', {\r\n            pagina: 'Información del Viaje',\r\n            resultado\r\n        })\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n    }\r\n\r\nexport { \r\n    getHome, \r\n    getUs, \r\n    getOpinions, \r\n    getTravels,\r\n    detailTravelPage,\r\n};"],"file":"pagesController.dev.js"}